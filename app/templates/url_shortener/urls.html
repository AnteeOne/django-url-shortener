{% extends 'url_shortener/base.html' %}

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Shorty</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="assets/fonts/fontawesome5-overrides.min.css">
    <link rel="stylesheet" href="assets/css/Login-Form-Basic.css">
    <link rel="stylesheet" href="assets/css/styles.css">
    <link rel="stylesheet" href="assets/css/Table-With-Search-1.css">
    <link rel="stylesheet" href="assets/css/Table-With-Search.css">
</head>

{% block body %}
    <div class="container">
    <div class="col-md-12 search-table-col"><span class="counter pull-right"></span>
        <h1><strong>Links</strong>:</h1>
        <div class="table-responsive table table-hover table-bordered results">
            <table class="table table-hover table-bordered">
                <thead class="bill-header cs">
                <tr>
                    <th id="trs-hd-1" class="col-lg-1">ID</th>
                    <th id="trs-hd-2" class="col-lg-2">Shorted url</th>
                    <th id="trs-hd-3" class="col-lg-3">Original url</th>
                    <th id="trs-hd-4" class="col-lg-2">Redirect count</th>
                    <th id="trs-hd-6" class="col-lg-2">Delete</th>
                </tr>
                </thead>
                <tbody>
                {% for url in urls %}
                    <tr>
                        <td>{{ url.id }}</td>
                        <td>{{ url.short_url }}</td>
                        <td><a href="{{ url.long_url }}">{{ url.long_url }}</a></td>
                        <td>{{ url.redirect_count }}</td>
                        <td>
                            <form action="" class="text-center" method="post">
                                {% csrf_token %}
                                <input type="hidden" name="url_id" value="{{ url.id }}">
                                <button class="btn btn-danger" style="margin-left: 5px;" type="submit"><i class="fa fa-trash" style="font-size: 15px;"></i></button>
                            </form>
                        </td>
                    </tr>
                </tbody>
                {% endfor %}
            </table>
        </div>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="assets/js/Table-With-Search.js"></script>
{% endblock body %}